(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(25),s=c.n(a),l=c(7),r=(c(31),c(32),c(6)),o=c(0),j=function(e){var t=e.onClick,c=e.selectedFilm;return Object(o.jsx)("header",{className:"Header",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(r.b,{className:"Header__logo",to:"/",children:"\u041a\u0438\u043d\u043e\u041c\u0438\u043a\u0441"}),Object(o.jsx)("nav",{className:"navbar",children:Object(o.jsxs)("ul",{className:"navbar__menu",children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{className:"navbar__link",to:"/",children:"\u043b\u0443\u0447\u0448\u0435\u0435"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{className:"navbar__link",to:"/popular",children:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{className:"navbar__link",to:"/film/id"+c,onClick:t,children:"\u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{className:"navbar__link",to:"/about",children:"\u043e \u043d\u0430\u0441"})})]})})]})})},u=(c(34),c(35),function(){return Object(o.jsx)("div",{className:"Loader"})}),m=c(8),d=c(9),b="9f79c556-ed7b-42b9-8c9a-09718e0c0acc",h="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_250_BEST_FILMS&page=",_="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=",f=function(e){var t=e.value,c=e.onChange,n=e.setInputValue,i=e.onClear;return Object(o.jsxs)("form",{className:"Content__search",onSubmit:function(e){return c(e)},children:[Object(o.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",value:t,onChange:function(e){return n(e.target.value)}}),Object(o.jsx)(m.a,{className:"Content__search-icon",icon:d.c}),t&&Object(o.jsx)(m.a,{className:"Content__close-icon",icon:d.d,onClick:i})]})},p=function(e){for(var t,c=e.list,n=e.activePage,a=e.onClick,s=e.isLoading,l=e.getColorByRate,j=e.value,_=e.onChange,p=e.onClear,O=e.getFilms,x=e.setSelectedFilm,g=e.setActivePage,v=e.setInputValue,N=[],C=0;C<c.pagesCount&&!(C>=20);C++)N.push(C+1);return i.a.useEffect((function(){g(1),O(h,b)}),[]),Object(o.jsx)("div",{className:"Content",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h2",{className:"Popular__title title",children:["\u041b\u0443\u0447\u0448\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u044b ",Object(o.jsx)(m.a,{className:"Content__fire-icon",icon:d.e})," "]}),Object(o.jsx)(f,{value:j,onChange:_,setInputValue:v,onClear:p}),s?Object(o.jsx)(u,{}):Object(o.jsx)("div",{className:"films",children:(null===c||void 0===c||null===(t=c.films)||void 0===t?void 0:t.length)?c.films.map((function(e,t){return Object(o.jsxs)("figure",{className:"films__card",children:[Object(o.jsx)(r.b,{className:"films__link",to:"/film/id"+e.filmId,onClick:function(){return x(e.filmId)},children:Object(o.jsx)("img",{className:"films__picture",src:e.posterUrl,alt:""})}),Object(o.jsx)("figcaption",{className:"films__name",children:e.nameRu}),Object(o.jsx)("figcaption",{className:"films__tags",children:Object.values(e.genres.map((function(e){return e.genre}))).join(", ")}),"null"!==e.rating?Object(o.jsx)("div",{className:"films__rating",style:{border:"2px solid ".concat(l(e.rating))},children:e.rating}):""]},e+":"+t)})):Object(o.jsx)("h2",{className:"title",children:"\u041d\u0435\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"})}),Object(o.jsx)("div",{className:"pageCount",children:N.length?N.map((function(e,t){return Object(o.jsx)("a",{className:n===e?"pageCount__btn pageCount__btn--active":"pageCount__btn",href:"#",onClick:function(t){return a(t,h,e)},children:e},e+":"+t)})):Object(o.jsx)("a",{className:"pageCount__btn pageCount__btn--active",href:"#",children:"1"})})]})})},O=c(26),x=c.n(O),g=c(2),v=(c(57),function(e){for(var t,c=e.isLoading,n=e.list,a=e.getFilms,s=e.setSelectedFilm,l=e.activePage,j=e.setActivePage,h=e.onClick,f=e.colorPopular,p=[],O=0;O<n.pagesCount&&!(O>20);O++)p.push(O+1);return i.a.useEffect((function(){j(1),a(_,b)}),[]),Object(o.jsx)("div",{className:"Popular",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h2",{className:"Popular__title title ",children:["\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b ",Object(o.jsx)(m.a,{className:"Popular__cup-icon",icon:d.a})," "]}),c?Object(o.jsx)(u,{}):Object(o.jsx)("div",{className:"films",children:(null===n||void 0===n||null===(t=n.films)||void 0===t?void 0:t.length)?n.films.map((function(e,t){return Object(o.jsxs)("figure",{className:"films__card",children:[Object(o.jsx)(r.b,{to:"/film/id"+e.filmId,className:"films__link",onClick:function(){return s(e.filmId)},children:Object(o.jsx)("img",{className:"films__picture",src:e.posterUrl,alt:""})}),Object(o.jsx)("figcaption",{className:"films__name",children:e.nameRu}),Object(o.jsx)("figcaption",{className:"films__tags",children:Object.values(e.genres.map((function(e){return e.genre}))).join(", ")}),Object(o.jsx)("div",{className:"films__rating",style:{border:"2px solid ".concat(f[t+1+20*(l-1)]||"")},children:t+1+20*(l-1)})]},e+":"+t)})):Object(o.jsx)("div",{children:"\u043d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u0430"})}),Object(o.jsx)("div",{className:"pageCount",children:p.length?p.map((function(e,t){return Object(o.jsx)("a",{className:l===e?"pageCount__btn pageCount__btn--active":"pageCount__btn",href:"#",onClick:function(t){return h(t,_,e)},children:e},e+":"+t)})):Object(o.jsx)("a",{className:"pageCount__btn pageCount__btn--active",href:"#",children:"1"})})]})})}),N=(c(58),function(e){var t=e.selectedFilm,c=e.getFilms,n=e.list;return i.a.useEffect((function(){window.scrollTo(0,650),c("https://kinopoiskapiunofficial.tech/api/v2.2/films/",b,t)}),[t]),Object(o.jsxs)("div",{className:"Film",children:[Object(o.jsx)("img",{className:"Film__poster",src:n.posterUrl,alt:""}),Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"Film__display",children:[Object(o.jsx)("div",{className:"Film__picture",children:Object(o.jsx)("img",{src:n.posterUrlPreview})}),Object(o.jsxs)("ul",{className:"Film__information",children:[Object(o.jsx)("li",{className:"Film__item",children:n.nameRu||n.nameEn||n.nameOriginal||"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"}),Object(o.jsxs)("li",{className:"Film__item",children:["\u0433\u043e\u0434: ",n.year]}),Object(o.jsxs)("li",{className:"Film__item",children:["\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u0438\u043b\u044c\u043c\u0430: ",n.filmLength," \u043c\u0438\u043d\u0443\u0442"]}),Object(o.jsxs)("li",{className:"Film__item",children:[n.countries&&n.countries.length>1?"\u0441\u0442\u0440\u0430\u043d\u044b":"\u0441\u0442\u0440\u0430\u043d\u0430",": ",n.countries&&n.countries.map((function(e){return e.country})).join(", ")]}),Object(o.jsxs)("li",{className:"Film__item",children:["\u0436\u0430\u043d\u0440\u044b: ",n.genres&&n.genres.map((function(e){return e.genre})).join(", ")]}),Object(o.jsxs)("li",{className:"Film__item",children:["\u0440\u0435\u0439\u0442\u0438\u043d\u0433: ",n.ratingKinopoisk||n.ratingImdb]})]})]})})]})}),C=(c(59),function(){return Object(o.jsxs)("div",{className:"About",children:[Object(o.jsxs)("h2",{className:"About__title title",children:["\u041f\u0440\u043e \u043d\u0430\u0441 ",Object(o.jsx)(m.a,{className:"About__icon-heart",icon:d.b})," "]}),Object(o.jsxs)("ul",{className:"About__advantages",children:[Object(o.jsx)("li",{className:"About__advantage",children:"\ud83d\udd25 \u0423 \u043d\u0430\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0438\u043d\u043e (\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b);"}),Object(o.jsx)("li",{className:"About__advantage",children:"\ud83d\udd25\ud83d\udd25 \u0423 \u043d\u0430\u0441 \u043c\u043e\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u043a\u0438\u043d\u043e;"}),Object(o.jsx)("li",{className:"About__advantage",children:"\ud83d\udd25\ud83d\udd25\ud83d\udd25 \u0423 \u043d\u0430\u0441 \u043c\u043e\u0436\u043d\u043e \u0447\u0438\u0442\u0430\u0442\u044c \u043f\u0440\u043e \u043a\u0438\u043d\u043e;"}),Object(o.jsx)("li",{className:"About__advantage",children:"\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25 \u0423 \u043d\u0430\u0441 \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u0441\u0443\u0436\u0434\u0430\u0442\u044c \u043a\u0438\u043d\u043e;"}),Object(o.jsx)("li",{className:"About__advantage",children:"\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25 \u0423 \u043d\u0430\u0441 \u043c\u043e\u0436\u043d\u043e \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u043a\u0438\u043d\u043e"})]}),Object(o.jsxs)("div",{className:"About__description",children:[Object(o.jsx)("p",{children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0443 \u043d\u0430\u0441 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043b\u0443\u0445 \u043e \u043d\u043e\u0432\u043e\u043c \u0444\u0438\u043b\u044c\u043c\u0435 \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0435, \u043f\u043e\u0442\u043e\u043c \u043e\u043d \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u043e\u0432\u043e\u0441\u0442\u044c, \u043c\u044b \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432\u0430\u043c \u043f\u043e\u0441\u0442\u0435\u0440, \u0442\u0438\u0437\u0435\u0440, \u0442\u0440\u0435\u0439\u043b\u0435\u0440, \u0432\u044b \u043d\u0430\u0436\u0438\u043c\u0430\u0435\u0442\u0435 \xab\u0431\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c\xbb, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c."}),Object(o.jsx)("p",{children:"\u041f\u043e\u0442\u043e\u043c \u0432\u044b \u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u043d\u0430\u0448\u0443 \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u044e, \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0435 \u0443 \u043d\u0430\u0441 \u0431\u0438\u043b\u0435\u0442\u044b, \u0441\u0442\u0430\u0432\u0438\u0442\u0435 \u0444\u0438\u043b\u044c\u043c\u0443 \u043e\u0446\u0435\u043d\u043a\u0443, \u043f\u0438\u0448\u0435\u0442\u0435 \u043e\u0442\u0437\u044b\u0432, \u043f\u043e\u0442\u043e\u043c \u0435\u0449\u0435 \u0440\u0430\u0437 \u043f\u0435\u0440\u0435\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u0442\u0435 \u0444\u0438\u043b\u044c\u043c, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443 \u043d\u0430\u0441 \u043e\u043d\u043b\u0430\u0439\u043d. \u0424\u0438\u043b\u044c\u043c \u0443\u0445\u043e\u0434\u0438\u0442 \u0432 \u0430\u0440\u0445\u0438\u0432, \u0430 \u043c\u044b \u0441 \u0432\u0430\u043c\u0438 \u0436\u0434\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0444\u0438\u043b\u044c\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b."})]})]})});var k=function(){var e=i.a.useState([]),t=Object(l.a)(e,2),c=t[0],n=t[1],a=i.a.useState(1),s=Object(l.a)(a,2),u=s[0],m=s[1],d=i.a.useState(!1),_=Object(l.a)(d,2),f=_[0],O=_[1],k=i.a.useState(""),F=Object(l.a)(k,2),P=F[0],y=F[1],A=i.a.useState(1),S=Object(l.a)(A,2),I=S[0],w=S[1],L=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"X-API-KEY":t,"Content-type":"application/json"};O(!0),x()(e+c,{headers:i}).then((function(e){return n(e.data)})).then((function(){return O(!1)}))},E=function(e,t,c){e.preventDefault(),L(t,b,c),window.scrollTo(0,650),m(c)},R=function(e){y(e)};return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(r.a,{children:[Object(o.jsx)(j,{onClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:65427,n=Math.floor(Math.random()*(c-t))+t;w(n)},selectedFilm:I}),Object(o.jsxs)(g.c,{children:[Object(o.jsx)(g.a,{exact:!0,path:"/",element:Object(o.jsx)(p,{list:c,activePage:u,setActivePage:m,onClick:E,isLoading:f,getFilms:L,getColorByRate:function(e){return e>8.3?"green":e>6.1?"yellow":"red"},value:P,onChange:function(e){e.preventDefault(),R(P),""===(null===P||void 0===P?void 0:P.trim())?L(h,b,u):L("https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=",b,P)},setSelectedFilm:w,setInputValue:R,onClear:function(){y(""),L(h,b)}})}),Object(o.jsx)(g.a,{path:"/popular",element:Object(o.jsx)(v,{list:c,isLoading:f,colorPopular:{1:"#f3cc14",2:"#c0c0c0",3:"#cd7f32"},getFilms:L,setSelectedFilm:w,activePage:u,setActivePage:m,onClick:E})}),Object(o.jsx)(g.a,{path:"/film/:id",element:Object(o.jsx)(N,{list:c,selectedFilm:I,getFilms:L})}),Object(o.jsx)(g.a,{path:"/about",element:Object(o.jsx)(C,{})})]})]})})};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(k,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.6326bd15.chunk.js.map